(this.webpackJsonpmapapp=this.webpackJsonpmapapp||[]).push([[0],{114:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var r,a,c,l,s,o,i,u,f,p,j,b,d,m,O,g,v=n(12),h=n.n(v),w=n(87),x=n.n(w),y=n(36),E=(n(113),n(114),n(83)),S=n.n(E),C=n(88);n(116);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function F(e,t){var n=e.title,h=e.titleId,w=N(e,["title","titleId"]);return v.createElement("svg",k({fill:"#fdfdfe",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 295.996 295.996",style:{enableBackground:"new 0 0 295.996 295.996"},xmlSpace:"preserve",ref:t,"aria-labelledby":h},w),n?v.createElement("title",{id:h},n):null,r||(r=v.createElement("g",null,v.createElement("path",{d:"M147.998,0C66.392,0,0,66.392,0,147.998s66.392,147.998,147.998,147.998s147.998-66.392,147.998-147.998 S229.605,0,147.998,0z M147.998,279.996c-36.256,0-69.143-14.696-93.022-38.44c-9.536-9.482-17.631-20.41-23.934-32.42 C21.442,190.847,16,170.047,16,147.998C16,75.214,75.214,16,147.998,16c34.523,0,65.987,13.328,89.533,35.102 c12.208,11.288,22.289,24.844,29.558,39.996c8.27,17.239,12.907,36.538,12.907,56.9 C279.996,220.782,220.782,279.996,147.998,279.996z"}),v.createElement("circle",{cx:99.666,cy:114.998,r:16}),v.createElement("circle",{cx:198.666,cy:114.998,r:16}),v.createElement("path",{d:"M147.715,229.995c30.954,0,60.619-15.83,77.604-42.113l-13.439-8.684c-15.597,24.135-44.126,37.604-72.693,34.308 c-22.262-2.567-42.849-15.393-55.072-34.308l-13.438,8.684c14.79,22.889,39.716,38.409,66.676,41.519 C140.814,229.8,144.27,229.995,147.715,229.995z"}))),a||(a=v.createElement("g",null)),c||(c=v.createElement("g",null)),l||(l=v.createElement("g",null)),s||(s=v.createElement("g",null)),o||(o=v.createElement("g",null)),i||(i=v.createElement("g",null)),u||(u=v.createElement("g",null)),f||(f=v.createElement("g",null)),p||(p=v.createElement("g",null)),j||(j=v.createElement("g",null)),b||(b=v.createElement("g",null)),d||(d=v.createElement("g",null)),m||(m=v.createElement("g",null)),O||(O=v.createElement("g",null)),g||(g=v.createElement("g",null)))}var _=v.forwardRef(F),P=(n.p,n(117),n(118),n(14)),I=function(e){var t=e.complete;return Object(P.jsx)("div",{className:"wrapper",children:Object(P.jsx)("div",{hidden:t,className:"spinner",children:"Spinning..."})})},L=function(e){var t=e.submitHandler,n=e.places,r=e.renderComplete,a=Object(v.useState)([]),c=Object(y.a)(a,2),l=c[0],s=c[1],o=Object(v.useState)(!1),i=Object(y.a)(o,2),u=i[0],f=i[1],p=Object(v.useState)(!1),j=Object(y.a)(p,2),b=j[0],d=j[1],m=Object(v.useState)(""),O=Object(y.a)(m,2),g=O[0],h=O[1],w=Object(v.useState)(-1),x=Object(y.a)(w,2),E=x[0],S=x[1],C=Object(v.useState)(""),k=Object(y.a)(C,2),N=k[0],F=k[1];Object(v.useEffect)((function(){r&&d(!1)}),[r]);var _=function(e){s([]),f(!0),t(e),d(!0)},L=function(e){var t=0;t=E<0?g.length:N.length;var n=e.substring(0,t),r=e.substring(t);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("strong",{children:[" ",n]}),r]})};return Object(P.jsx)("form",{onSubmit:function(e){return e.preventDefault()},autoComplete:"off",children:Object(P.jsxs)("div",{className:"typeahead",children:[Object(P.jsx)("div",{className:"upper",children:Object(P.jsx)("div",{className:"input-wrapper ".concat(u&&"selected"),children:Object(P.jsx)("input",{placeholder:"e.g. Cyclo Town",onChange:function(e){return function(e){var t=e.target.value;if(h(t),""===t)return s([]);u&&f(!1);var r=n.filter((function(e){var n=new RegExp("^".concat(t.trim()),"gi");return e.match(n)})).slice(0,9);s(r)}(e)},onKeyDown:function(e){return function(e){if(["ArrowDown","ArrowUp","Enter"].includes(e.key)){var t=l.length;if(t&&g){var n=function(e){N||F(g),S(e),h(l[e])};if("ArrowDown"===e.key){if(E>=t-1)return;n(E+1)}else if("ArrowUp"===e.key){if(e.preventDefault(),-1===E)return n(t-1);if(E<=0)return S(-1),h(N),void F("");n(E-1)}else _(l[E]),F(""),S(-1)}}}(e)},type:"text",value:g,className:g&&"active"})})}),Object(P.jsxs)("div",{className:"lower",children:[Object(P.jsx)(I,{complete:!b}),Object(P.jsx)("ul",{onClick:function(e){return function(e){var t=e.target;if(t.matches("li")){var n=t.textContent.trim();h(n),_(n)}}(e)},className:"suggestions",hidden:!l.length,children:l.map((function(e,t){return Object(P.jsx)("li",{className:E>=0&&l[E]===e?"kb-selected":"",children:L(e)},"".concat(t).concat(e))}))})]})]})})},A=function(e){var t=e.submitHandler,n=e.renderComplete,r=Object(v.useState)([]),a=Object(y.a)(r,2),c=a[0],l=a[1];return Object(v.useEffect)((function(){function e(){return(e=Object(C.a)(S.a.mark((function e(){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(window.location.href+"/places.txt");case 2:return t=e.sent,e.next=5,t.text();case 5:n=e.sent,r=n.split("\n"),l(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(P.jsxs)("div",{className:"sidebar",children:[Object(P.jsxs)("div",{className:"header",children:[Object(P.jsx)("h2",{children:"\ud83d\uddfa\ufe0f Lie of the land"}),Object(P.jsxs)("p",{children:["By typing in your placename, you can check out your town's/city's borders so you always know how far to go. ",Object(P.jsx)(_,{})]})]}),Object(P.jsx)(L,{renderComplete:n,submitHandler:t,places:c})]})},D=n(122),H=n(93),M=n(92),q=n(91),z=n(85),B=n(90),G=n(86),R=n(65),T=n(81),U=n(123),J=n(84),W=n(89),X=n(3),K=n(78),V=n(66),Y=n(23),Q=function(e){var t=e.renderCompleteListener,n=e.features,r=Object(v.useState)(),a=Object(y.a)(r,2),c=a[0],l=a[1],s=Object(v.useState)(null),o=Object(y.a)(s,2),i=o[0],u=o[1],f=Object(v.useRef)();return Object(v.useEffect)((function(){J.a.defs("EPSG:28992","+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs"),Object(W.a)(J.a);var e=Object(X.j)("EPSG:28992"),n=new z.a({format:new U.a,url:"https://geodata.nationaalgeoregister.nl/bag/wfs/v1_1?service=WFS&version=2.0.0&request=GetFeature&typename=bag:woonplaats&outputFormat=json&bbox=135182.04,421669.31,140942.71,425358.39"}),r=new B.a({source:n,style:new G.b({stroke:new R.a({color:"#282b9d",width:2}),fill:new T.a({color:"rgba(40, 43, 197, 0.45)"})})}),a=new V.a({coordinateFormat:Object(Y.b)(1),undefinedHTML:"XY Coordinates"}),c=new D.a({target:f.current,layers:[new M.a({source:new q.a}),r],view:new H.a({projection:e,center:[142892.19,470783.87],zoom:9}),controls:Object(K.a)().extend([a])});return c.on("rendercomplete",t),l(c),u(r),function(){return c.un("rendercomplete",t)}}),[]),Object(v.useEffect)((function(){if(n.length){i.setSource(new z.a({features:n}));var e=n[0].values_.geometry.extent_;c.getView().fit(e,{padding:[150,150,150,150]})}}),[n]),Object(P.jsx)("div",{ref:f,className:"map-container"})};var Z=function(){var e=Object(v.useState)(""),t=Object(y.a)(e,2),n=t[0],r=t[1],a=Object(v.useState)(),c=Object(y.a)(a,2),l=c[0],s=c[1],o="https://geodata.nationaalgeoregister.nl/bag/wfs/v1_1?service=WFS&version=2.0.0&request=GetFeature&typename=bag:woonplaats&count=5&outputFormat=json&count-5";return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(A,{renderComplete:l,submitHandler:function(e){if(e){var t="<Filter><PropertyIsEqualTo><PropertyName>bag:woonplaats</PropertyName><Literal>".concat(e,"</Literal></PropertyIsEqualTo></Filter>");o+="&filter="+encodeURIComponent(t),fetch(o).then((function(e){return e.json()})).then((function(e){var t=(new U.a).readFeatures(e);r(t),s(!1)}))}}}),Object(P.jsx)(Q,{renderCompleteListener:function(){return s(!0)},features:n})]})};x.a.render(Object(P.jsx)(h.a.StrictMode,{children:Object(P.jsx)(Z,{})}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.831b69ca.chunk.js.map