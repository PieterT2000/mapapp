{"version":3,"sources":["styles/icons/happiness.svg","Components/TypeAhead.jsx","Components/SideBar.jsx","Map/MapWrapper.jsx","App.js","index.js"],"names":["_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgHappiness","_ref","svgRef","title","titleId","props","fill","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","d","cx","cy","r","ForwardRef","TypeAhead","submitHandler","places","useState","matches","setMatches","input","setInput","selected","setSelected","boldSearchTerm","string","toBold","substring","restOfString","onSubmit","e","preventDefault","autoComplete","className","placeholder","onChange","val","value","placeMatches","filter","place","regex","RegExp","trim","match","slice","handleInput","type","onClick","placeName","textContent","handleSelection","hidden","map","SideBar","setPlaces","useEffect","a","fetch","window","location","href","res","text","placesArr","split","fetchPlaces","MapWrapper","setMap","featuresLayer","setFeaturesLayer","mapElement","useRef","proj4","defs","register","dutchProjection","getProjection","vectorSource","VectorSource","format","GeoJSON","url","vector","VectorLayer","Style","stroke","Stroke","color","width","Fill","mousePositionControl","MousePosition","coordinateFormat","createStringXY","undefinedHTML","initialMap","Map","current","layers","TileLayer","OSM","view","View","projection","center","zoom","controls","defaultControls","extend","features","setSource","extent","values_","geometry","extent_","getView","fit","padding","App","setFeatures","api","filterStr","encodeURIComponent","then","json","fetchedFeatures","parsedFeatures","readFeatures","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bb99df45.chunk.js","sourcesContent":["var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHappiness(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#fdfdfe\",\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 295.996 295.996\",\n    style: {\n      enableBackground: \"new 0 0 295.996 295.996\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M147.998,0C66.392,0,0,66.392,0,147.998s66.392,147.998,147.998,147.998s147.998-66.392,147.998-147.998 S229.605,0,147.998,0z M147.998,279.996c-36.256,0-69.143-14.696-93.022-38.44c-9.536-9.482-17.631-20.41-23.934-32.42 C21.442,190.847,16,170.047,16,147.998C16,75.214,75.214,16,147.998,16c34.523,0,65.987,13.328,89.533,35.102 c12.208,11.288,22.289,24.844,29.558,39.996c8.27,17.239,12.907,36.538,12.907,56.9 C279.996,220.782,220.782,279.996,147.998,279.996z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 99.666,\n    cy: 114.998,\n    r: 16\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 198.666,\n    cy: 114.998,\n    r: 16\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M147.715,229.995c30.954,0,60.619-15.83,77.604-42.113l-13.439-8.684c-15.597,24.135-44.126,37.604-72.693,34.308 c-22.262-2.567-42.849-15.393-55.072-34.308l-13.438,8.684c14.79,22.889,39.716,38.409,66.676,41.519 C140.814,229.8,144.27,229.995,147.715,229.995z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHappiness);\nexport default __webpack_public_path__ + \"static/media/happiness.9f94d3ef.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\n\nconst TypeAhead = ({ submitHandler, places }) => {\n  const [matches, setMatches] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [selected, setSelected] = useState(false);\n\n  const handleInput = (e) => {\n    let val = e.target.value;\n    setInput(val);\n\n    // In case of empty values, reset state\n    if (val === \"\") {\n      setSelected(false);\n      return setMatches([]);\n    }\n\n    const placeMatches = places\n      .filter((place) => {\n        const regex = new RegExp(`^${val.trim()}`, \"gi\");\n        return place.match(regex);\n      })\n      .slice(0, 9); // We're only interested in top 9 matches\n    setMatches(placeMatches);\n  };\n\n  const handleSelection = ({ target }) => {\n    if (!target.matches(\"li\")) return;\n\n    const placeName = target.textContent;\n    setInput(placeName);\n    // Remove suggestions after selection\n    setMatches([]);\n    // Apply styles for selected state\n    setSelected(true);\n\n    // Call Submit handler from here with selected place\n    submitHandler(placeName);\n  };\n\n  const boldSearchTerm = (string) => {\n    const length = input.length;\n    const toBold = string.substring(0, length);\n    const restOfString = string.substring(length);\n    return (\n      <>\n        <strong> {toBold}</strong>\n        {restOfString}\n      </>\n    );\n  };\n\n  return (\n    <form onSubmit={(e) => e.preventDefault()} autoComplete=\"off\">\n      <div className=\"typeahead\">\n        <div className=\"upper\">\n          <div className={`input-wrapper ${selected && \"selected\"}`}>\n            <input\n              placeholder={\"e.g. Cyclo Town\"}\n              onChange={(e) => handleInput(e)}\n              type=\"text\"\n              value={input}\n              className={input && \"active\"}\n            />\n          </div>\n        </div>\n        <div className=\"lower\">\n          <ul\n            onClick={(e) => handleSelection(e)}\n            className=\"suggestions\"\n            hidden={!matches.length}\n          >\n            {matches.map((match, i) => (\n              <li key={`${i}${match}`}>{boldSearchTerm(match)}</li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </form>\n  );\n};\n\nexport default TypeAhead;\n","import \"../styles/sidebar.scss\";\nimport { ReactComponent as Smiley } from \"../styles/icons/happiness.svg\";\n\nimport React, { useEffect, useState } from \"react\";\nimport TypeAhead from \"./TypeAhead\";\n\nconst SideBar = ({ submitHandler }) => {\n  const [places, setPlaces] = useState([]);\n\n  // Load places on first render asynchrounsly\n  useEffect(() => {\n    async function fetchPlaces() {\n      // Use absolute URL path as places.txt is placed in public folder\n      const res = await fetch(window.location.href + \"/places.txt\");\n      const places = await res.text();\n      const placesArr = places.split(\"\\n\");\n      setPlaces(placesArr);\n    }\n    fetchPlaces();\n  }, []);\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"header\">\n        <h2>🗺️ Lie of the land</h2>\n        <p>\n          By typing in your placename, you can check out your town's/city's\n          borders so you always know how far to go. {<Smiley />}\n        </p>\n      </div>\n      <TypeAhead submitHandler={submitHandler} places={places} />\n    </div>\n  );\n};\n\nexport default SideBar;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Map, View } from \"ol\";\nimport TileLayer from \"ol/layer/Tile\";\nimport OSM from \"ol/source/OSM\";\nimport VectorSource from \"ol/source/Vector\";\nimport VectorLayer from \"ol/layer/Vector\";\nimport { Stroke, Fill, Style } from \"ol/style\";\nimport { GeoJSON } from \"ol/format\";\nimport proj4 from \"proj4\";\nimport { register } from \"ol/proj/proj4\";\nimport { get as getProjection } from \"ol/proj\";\nimport { defaults as defaultControls } from \"ol/control\";\nimport MousePosition from \"ol/control/MousePosition\";\nimport { createStringXY } from \"ol/coordinate\";\n\nconst MapWrapper = (props) => {\n  const [map, setMap] = useState();\n  const [featuresLayer, setFeaturesLayer] = useState(null);\n\n  // Stores reference to element into which map should render\n  const mapElement = useRef();\n\n  // Initialize map on first render\n  useEffect(() => {\n    // Set Dutch projection definition that is to be used by the OSM baselayer\n    proj4.defs(\n      \"EPSG:28992\",\n      \"+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs\"\n    );\n    register(proj4);\n    const dutchProjection = getProjection(\"EPSG:28992\");\n\n    // Initial Vector source -> Bommelerwaard Woonplaatsen\n    const vectorSource = new VectorSource({\n      format: new GeoJSON(),\n      url:\n        \"https://geodata.nationaalgeoregister.nl/bag/wfs/v1_1?service=WFS&version=2.0.0&request=GetFeature&typename=bag:woonplaats&outputFormat=json&bbox=135182.04,421669.31,140942.71,425358.39\",\n    });\n\n    const vector = new VectorLayer({\n      source: vectorSource,\n      style: new Style({\n        stroke: new Stroke({\n          color: \"#282b9d\",\n          width: 2,\n        }),\n        fill: new Fill({\n          color: \"rgba(40, 43, 197, 0.45)\",\n        }),\n      }),\n    });\n\n    const mousePositionControl = new MousePosition({\n      coordinateFormat: createStringXY(1),\n      undefinedHTML: \"XY Coordinates\",\n    });\n\n    const initialMap = new Map({\n      target: mapElement.current,\n      // set Open Street map as base map\n      layers: [\n        new TileLayer({\n          source: new OSM(),\n        }),\n        vector,\n      ],\n      view: new View({\n        projection: dutchProjection,\n        // Take Hilversum as center\n        center: [142892.19, 470783.87],\n        zoom: 9,\n      }),\n      controls: defaultControls().extend([mousePositionControl]),\n    });\n\n    setMap(initialMap);\n    // Save features to state so we can later edit the vector source if props.features changes\n    setFeaturesLayer(vector);\n  }, []);\n\n  // Update map directly whenever a new vector layer is passed down the props\n  useEffect(() => {\n    const { features } = props;\n\n    // On first render or in case the API returned nothing, features will be an empty array\n    if (features.length) {\n      featuresLayer.setSource(\n        new VectorSource({\n          features,\n        })\n      );\n\n      // Zoom in on the first instance of the selected place\n      const extent = features[0].values_.geometry.extent_;\n      map.getView().fit(extent, {\n        padding: [150, 150, 150, 150],\n      });\n    }\n  }, [props.features]);\n\n  return <div ref={mapElement} className=\"map-container\"></div>;\n};\n\nexport default MapWrapper;\n","import \"ol/ol.css\";\nimport \"./styles/app.scss\";\nimport React, { useState } from \"react\";\n\nimport SideBar from \"./Components/SideBar\";\nimport MapWrapper from \"./Map/MapWrapper\";\nimport { GeoJSON } from \"ol/format\";\n\nfunction App() {\n  // const [woonplaats, setWoonplaats] = useState(\"\");\n  const [features, setFeatures] = useState(\"\");\n\n  let api =\n    \"https://geodata.nationaalgeoregister.nl/bag/wfs/v1_1?service=WFS&version=2.0.0&request=GetFeature&typename=bag:woonplaats&count=5&outputFormat=json&count-5\";\n\n  const handleSubmit = (placeName) => {\n    if (!placeName) return;\n\n    const queryParam = \"&filter=\";\n    const filterStr = `<Filter><PropertyIsEqualTo><PropertyName>bag:woonplaats</PropertyName><Literal>${placeName}</Literal></PropertyIsEqualTo></Filter>`;\n    api += queryParam + encodeURIComponent(filterStr);\n\n    // Fetch new vector source\n    fetch(api)\n      .then((res) => res.json())\n      .then((fetchedFeatures) => {\n        // Parse Features from return JSON object\n        const parsedFeatures = new GeoJSON().readFeatures(fetchedFeatures);\n\n        // Pass features on to MapWrapper component (state value gets passed a prop)\n        setFeatures(parsedFeatures);\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <SideBar submitHandler={handleSubmit} />\n      <MapWrapper features={features} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}