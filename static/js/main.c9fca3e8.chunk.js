(this.webpackJsonpmapapp=this.webpackJsonpmapapp||[]).push([[0],{114:function(e,t,n){},116:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var r,a,c,l,s,o,i,u,p,f,b,j,m,d,g,O,h=n(13),v=n.n(h),w=n(87),x=n.n(w),y=n(45),E=(n(113),n(114),n(83)),S=n.n(E),C=n(88);n(116);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function F(e,t){var n=e.title,v=e.titleId,w=N(e,["title","titleId"]);return h.createElement("svg",k({fill:"#fdfdfe",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 295.996 295.996",style:{enableBackground:"new 0 0 295.996 295.996"},xmlSpace:"preserve",ref:t,"aria-labelledby":v},w),n?h.createElement("title",{id:v},n):null,r||(r=h.createElement("g",null,h.createElement("path",{d:"M147.998,0C66.392,0,0,66.392,0,147.998s66.392,147.998,147.998,147.998s147.998-66.392,147.998-147.998 S229.605,0,147.998,0z M147.998,279.996c-36.256,0-69.143-14.696-93.022-38.44c-9.536-9.482-17.631-20.41-23.934-32.42 C21.442,190.847,16,170.047,16,147.998C16,75.214,75.214,16,147.998,16c34.523,0,65.987,13.328,89.533,35.102 c12.208,11.288,22.289,24.844,29.558,39.996c8.27,17.239,12.907,36.538,12.907,56.9 C279.996,220.782,220.782,279.996,147.998,279.996z"}),h.createElement("circle",{cx:99.666,cy:114.998,r:16}),h.createElement("circle",{cx:198.666,cy:114.998,r:16}),h.createElement("path",{d:"M147.715,229.995c30.954,0,60.619-15.83,77.604-42.113l-13.439-8.684c-15.597,24.135-44.126,37.604-72.693,34.308 c-22.262-2.567-42.849-15.393-55.072-34.308l-13.438,8.684c14.79,22.889,39.716,38.409,66.676,41.519 C140.814,229.8,144.27,229.995,147.715,229.995z"}))),a||(a=h.createElement("g",null)),c||(c=h.createElement("g",null)),l||(l=h.createElement("g",null)),s||(s=h.createElement("g",null)),o||(o=h.createElement("g",null)),i||(i=h.createElement("g",null)),u||(u=h.createElement("g",null)),p||(p=h.createElement("g",null)),f||(f=h.createElement("g",null)),b||(b=h.createElement("g",null)),j||(j=h.createElement("g",null)),m||(m=h.createElement("g",null)),d||(d=h.createElement("g",null)),g||(g=h.createElement("g",null)),O||(O=h.createElement("g",null)))}var _=h.forwardRef(F),P=(n.p,n(17)),I=function(e){var t=e.submitHandler,n=e.places,r=Object(h.useState)([]),a=Object(y.a)(r,2),c=a[0],l=a[1],s=Object(h.useState)(""),o=Object(y.a)(s,2),i=o[0],u=o[1],p=Object(h.useState)(!1),f=Object(y.a)(p,2),b=f[0],j=f[1],m=function(e){var t=i.length,n=e.substring(0,t),r=e.substring(t);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("strong",{children:[" ",n]}),r]})};return Object(P.jsx)("form",{onSubmit:function(e){return e.preventDefault()},autoComplete:"off",children:Object(P.jsxs)("div",{className:"typeahead",children:[Object(P.jsx)("div",{className:"upper",children:Object(P.jsx)("div",{className:"input-wrapper ".concat(b&&"selected"),children:Object(P.jsx)("input",{placeholder:"e.g. Cyclo Town",onChange:function(e){return function(e){var t=e.target.value;if(u(t),""===t)return j(!1),l([]);var r=n.filter((function(e){var n=new RegExp("^".concat(t.trim()),"gi");return e.match(n)})).slice(0,9);l(r)}(e)},type:"text",value:i,className:i&&"active"})})}),Object(P.jsx)("div",{className:"lower",children:Object(P.jsx)("ul",{onClick:function(e){return function(e){var n=e.target;if(n.matches("li")){var r=n.textContent;u(r),l([]),j(!0),t(r)}}(e)},className:"suggestions",hidden:!c.length,children:c.map((function(e,t){return Object(P.jsx)("li",{children:m(e)},"".concat(t).concat(e))}))})})]})})},H=function(e){var t=e.submitHandler,n=Object(h.useState)([]),r=Object(y.a)(n,2),a=r[0],c=r[1];return Object(h.useEffect)((function(){function e(){return(e=Object(C.a)(S.a.mark((function e(){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("mapapp/places.txt");case 2:return t=e.sent,e.next=5,t.text();case 5:n=e.sent,r=n.split("\n"),c(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(P.jsxs)("div",{className:"sidebar",children:[Object(P.jsxs)("div",{className:"header",children:[Object(P.jsx)("h2",{children:"\ud83d\uddfa\ufe0f Lie of the land"}),Object(P.jsxs)("p",{children:["By typing in your placename, you can check out your town's/city's borders so you always know how far to go. ",Object(P.jsx)(_,{})]})]}),Object(P.jsx)(I,{submitHandler:t,places:a})]})},M=n(120),q=n(93),z=n(92),B=n(91),G=n(85),L=n(90),R=n(86),T=n(65),J=n(81),W=n(121),X=n(84),A=n(89),D=n(3),U=n(78),V=n(66),Y=n(23),K=function(e){var t=Object(h.useState)(),n=Object(y.a)(t,2),r=n[0],a=n[1],c=Object(h.useState)(null),l=Object(y.a)(c,2),s=l[0],o=l[1],i=Object(h.useRef)();return Object(h.useEffect)((function(){X.a.defs("EPSG:28992","+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs"),Object(A.a)(X.a);var e=Object(D.j)("EPSG:28992"),t=new G.a({format:new W.a,url:"https://geodata.nationaalgeoregister.nl/bag/wfs/v1_1?service=WFS&version=2.0.0&request=GetFeature&typename=bag:woonplaats&outputFormat=json&bbox=135182.04,421669.31,140942.71,425358.39"}),n=new L.a({source:t,style:new R.b({stroke:new T.a({color:"#282b9d",width:2}),fill:new J.a({color:"rgba(40, 43, 197, 0.45)"})})}),r=new V.a({coordinateFormat:Object(Y.b)(1),undefinedHTML:"XY Coordinates"}),c=new M.a({target:i.current,layers:[new z.a({source:new B.a}),n],view:new q.a({projection:e,center:[142892.19,470783.87],zoom:9}),controls:Object(U.a)().extend([r])});a(c),o(n)}),[]),Object(h.useEffect)((function(){var t=e.features;if(t.length){s.setSource(new G.a({features:t}));var n=t[0].values_.geometry.extent_;r.getView().fit(n,{padding:[150,150,150,150]})}}),[e.features]),Object(P.jsx)("div",{ref:i,className:"map-container"})};var Q=function(){var e=Object(h.useState)(""),t=Object(y.a)(e,2),n=t[0],r=t[1],a="https://geodata.nationaalgeoregister.nl/bag/wfs/v1_1?service=WFS&version=2.0.0&request=GetFeature&typename=bag:woonplaats&count=5&outputFormat=json&count-5";return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(H,{submitHandler:function(e){if(e){var t="<Filter><PropertyIsEqualTo><PropertyName>bag:woonplaats</PropertyName><Literal>".concat(e,"</Literal></PropertyIsEqualTo></Filter>");a+="&filter="+encodeURIComponent(t),fetch(a).then((function(e){return e.json()})).then((function(e){var t=(new W.a).readFeatures(e);r(t)}))}}}),Object(P.jsx)(K,{features:n})]})};x.a.render(Object(P.jsx)(v.a.StrictMode,{children:Object(P.jsx)(Q,{})}),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.c9fca3e8.chunk.js.map